<head>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>
var squareValues = [0, 0, 0, 0, 0, 0, 0, 0, 0];
</script>
<style>
table {
  border-collapse: collapse;
}

td {
  border: 1px solid black;
}

#game td {
  width: 300px;
  height: 300px;
  text-align: center;
  font-size: 250px;
}
</style>
<title>Gato</title>
</head>
<link rel="icon" href="favicon.ico"/>
<body>
<!-- <h1>Gato</h1> -->
<div id="game">
  <table>
    <tr>
      <td class="game" id="square0"><span/></td>
      <td class="game" id="square1"><span/></td>
      <td class="game" id="square2"><span/></td>
    </tr>
    <tr>
      <td class="game" id="square3"><span/></td>
      <td class="game" id="square4"><span/></td>
      <td class="game" id="square5"><span/></td>
    </tr>
    <tr>
      <td class="game" id="square6"><span/></td>
      <td class="game" id="square7"><span/></td>
      <td class="game" id="square8"><span/></td>
    </tr>
  </table>
</div>
<br/>
<hr/>
<br/>
<div id="setup">
  <table>
    <tr>
      <td id="value0"><input type="text" size="1" maxlength="1"/></td>
      <td id="value1"><input type="text" size="1" maxlength="1"/></td>
      <td id="value2"><input type="text" size="1" maxlength="1"/></td>
    </tr>
    <tr>
      <td id="value3"><input type="text" size="1" maxlength="1"/></td>
      <td id="value4"><input type="text" size="1" maxlength="1"/></td>
      <td id="value5"><input type="text" size="1" maxlength="1"/></td>
    </tr>
    <tr>
      <td id="value6"><input type="text" size="1" maxlength="1"/></td>
      <td id="value7"><input type="text" size="1" maxlength="1"/></td>
      <td id="value8"><input type="text" size="1" maxlength="1"/></td>
    </tr>
  </table>
</div>
<script>
$().ready(function() {
   $("td.game").click(function () {
    var index = $(this).attr("id").substr(-1);
    squareValues[index]++;
    if (squareValues[index] > 2) {
      squareValues[index] = 0;
    }    
    if (squareValues[index] === 0) {
      $(this).find("span").html($("#value" + this.id.substr(-1)).find("input").val()).css("color", "black");
    } else if (squareValues[index] === 1) {
      $(this).find("span").html("X").css("color", "red");
    } else if (squareValues[index] === 2) {
      $(this).find("span").html("O").css("color", "green");
    }
  });
	
  $("#setup td").find("input").keypress(function(e) {
	var index = $(this).parent().attr("id").substr(-1);
	$(this).val(String.fromCharCode(e.which));
	if (squareValues[index] === 0) {
		$("#square" + index).find("span").html(String.fromCharCode(e.which));
	}
	console.log("keyup " + e.which + " " + index);
  });    
}); 
</script>
</body>
